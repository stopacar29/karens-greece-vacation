# Deploy to Render.com so family can open one URL to use the app.
# See DEPLOYMENT.md for step-by-step.
services:
  - type: web
    runtime: node
    name: karens-greece-trip
    # Build from repo root: web-app first, then server deps (single line = one shell)
    buildCommand: cd web-app && npm ci && npm run build && cd ../server && npm install
    # Run from repo root so Node resolves server/node_modules when loading server/index.js
    startCommand: node server/index.js
    healthCheckPath: /health
    envVars:
      - key: OPENAI_API_KEY
        sync: false
        # Add your key in Render Dashboard for PDF/OCR import (optional)
